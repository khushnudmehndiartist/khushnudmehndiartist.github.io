<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Khushnud Mehndi Artist — Gallery Combined</title>
  <link rel="icon" href="https://khushnudmehndiartist.github.io/logo.png" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--rose:#ffdbe6;--card:rgba(255,255,255,0.96);--muted:#6b6b6b}
    *{box-sizing:border-box}
    body{font-family:'Poppins',sans-serif;background:var(--rose);color:#111;margin:0}
    header{position:sticky;top:0;z-index:120;background:rgba(255,255,255,0.94);backdrop-filter:blur(6px);border-bottom:1px solid rgba(0,0,0,0.06)}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    .logo{height:44px;width:44px;border-radius:9999px;object-fit:cover}
    .tabs{display:flex;gap:8px;justify-content:center;margin:14px 0}
    .tab-btn{padding:10px 14px;border-radius:999px;background:white;border:2px solid rgba(0,0,0,0.06);cursor:pointer}
    .tab-btn.active{border-color:#d4af37}
    .note{color:var(--muted);text-align:center;font-size:14px;margin-top:6px}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}
    .card{background:var(--card);border-radius:12px;padding:8px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 12px 30px rgba(0,0,0,0.06);overflow:hidden}
    .thumb{width:100%;height:320px;object-fit:cover;border-radius:8px}
    .meta{display:flex;justify-content:space-between;align-items:center;padding:8px 6px}

    /* original embeds container */
    .embeds-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:18px}
    .embed-card{background:var(--card);padding:8px;border-radius:12px}

    /* lightbox */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.78);display:flex;align-items:center;justify-content:center;z-index:160;padding:12px;opacity:0;pointer-events:none;transition:opacity .18s}
    .modal.open{opacity:1;pointer-events:auto}
    .viewer{max-width:1100px;width:100%;display:flex;gap:12px;align-items:flex-start}
    .viewer-media{flex:1;display:flex;align-items:center;justify-content:center}
    .viewer-media img,.viewer-media video{max-width:100%;max-height:80vh;border-radius:10px}
    .viewer-controls{width:72px;display:flex;flex-direction:column;gap:10px;align-items:center}
    .btn{background:white;padding:8px;border-radius:10px;cursor:pointer}

    @media(max-width:640px){.thumb{height:220px}.viewer{flex-direction:column}.viewer-controls{display:flex;flex-direction:row;width:100%;justify-content:center;gap:18px}}
  </style>
</head>
<body>
  <header>
    <div class="container flex items-center justify-between">
      <a href="#" class="flex items-center gap-3"><img class="logo" src="https://khushnudmehndiartist.github.io/logo.png" alt="logo"><strong>Khushnud Mehndi Artist</strong></a>
      <nav class="hidden md:flex gap-4">
        <a href="#work" class="nav-link">Work</a>
        <a href="#usp" class="nav-link">Why Choose Us</a>
        <a href="#services" class="nav-link">Services</a>
        <a href="#about" class="nav-link">About</a>
        <a href="#reviews" class="nav-link">Reviews</a>
        <a href="#book" class="nav-link">Book</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="work">
      <h2 style="text-align:center;font-size:22px;margin-bottom:6px;font-weight:700">Designs & Highlights — Combined View</h2>
      <p class="note">Two gallery modes available below: <strong>Reliable Tiles (open posts inline or in lightbox)</strong> and <strong>Original Instagram Embed Mode</strong> (the code you provided earlier). Use the tabs to switch.</p>

      <div class="tabs" role="tablist">
        <button class="tab-btn active" id="tabReliable">Reliable Gallery</button>
        <button class="tab-btn" id="tabOriginal">Original Instagram Embeds</button>
      </div>

      <!-- RELIABLE GALLERY (cards that open lightbox) -->
      <div id="reliableGallery">
        <div style="display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin-bottom:12px">
          <button class="tab-btn filter active" data-filter="all">All</button>
          <button class="tab-btn filter" data-filter="image">Images</button>
          <button class="tab-btn filter" data-filter="video">Videos</button>
        </div>
        <div id="gridReliable" class="grid"></div>
      </div>

      <!-- ORIGINAL EMBEDS (your earlier code placed here) -->
      <div id="originalEmbeds" style="display:none">
        <div class="embeds-grid" id="embedGrid">
          <!-- Inserted original embed cards below (kept exactly like your original file) -->
          <div class="embed-card"><blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DPx-_tPDLKW/" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:12px; margin: 0; padding:0; width:100%; "></blockquote></div>
          <div class="embed-card"><blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DPhF6uUD23T/" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:12px; margin: 0; padding:0; width:100%; "></blockquote></div>
          <div class="embed-card"><blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DQ5wJ1qjP3o/" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:12px; margin: 0; padding:0; width:100%; "></blockquote></div>
          <div class="embed-card"><blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DPV6GIHjKJq/?img_index=1" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:12px; margin: 0; padding:0; width:100%; "></blockquote></div>
          <div class="embed-card"><blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DPApu6qjMPs/" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:12px; margin: 0; padding:0; width:100%; "></blockquote></div>
          <div class="embed-card"><blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/Cz7vpFvCheh/" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:12px; margin: 0; padding:0; width:100%; "></blockquote></div>
        </div>
        <p class="note">Note: Instagram embed display depends on Instagram; if embeds show blank for you it's due to Instagram blocking cross-origin media. In that case use the Reliable Gallery mode.</p>
      </div>

    </section>

    <!-- Placeholder sections so nav links work -->
    <section id="usp" style="padding:40px 0"><div class="container"><h3>Why Choose Us</h3><p class="note">International quality, 100% organic cones.</p></div></section>
    <section id="services" style="padding:40px 0"><div class="container"><h3>Services</h3></div></section>
    <section id="about" style="padding:40px 0"><div class="container"><h3>About</h3></div></section>
    <section id="reviews" style="padding:40px 0"><div class="container"><h3>Reviews</h3></div></section>
    <section id="book" style="padding:40px 0"><div class="container"><h3>Book</h3></div></section>

  </main>

  <!-- Lightbox modal -->
  <div id="lightbox" class="modal" role="dialog" aria-modal="true">
    <div class="viewer">
      <div class="viewer-media" id="viewerMedia"></div>
      <div class="viewer-controls">
        <button id="prevBtn" class="btn" aria-label="Previous">◀</button>
        <button id="closeBtn" class="btn" aria-label="Close">✕</button>
        <button id="nextBtn" class="btn" aria-label="Next">▶</button>
      </div>
    </div>
  </div>

  <script>
    // ----- Tab switch (Reliable vs Original) -----
    const tabReliable = document.getElementById('tabReliable');
    const tabOriginal = document.getElementById('tabOriginal');
    const reliableGallery = document.getElementById('reliableGallery');
    const originalEmbeds = document.getElementById('originalEmbeds');
    tabReliable.addEventListener('click', ()=>{ tabReliable.classList.add('active'); tabOriginal.classList.remove('active'); reliableGallery.style.display='block'; originalEmbeds.style.display='none'; history.replaceState(null,'','#work'); });
    tabOriginal.addEventListener('click', ()=>{ tabOriginal.classList.add('active'); tabReliable.classList.remove('active'); reliableGallery.style.display='none'; originalEmbeds.style.display='block'; history.replaceState(null,'','#work'); loadInstagramEmbeds(); });

    // ----- Reliable gallery data (you can replace these with your hosted URLs) -----
    const GALLERY_ITEMS = [
      { id:1, type:'image', thumb:'https://khushnudmehndiartist.github.io/images/img1-thumb.jpg', src:'https://khushnudmehndiartist.github.io/images/img1.jpg', caption:'Bridal floral palms' },
      { id:2, type:'image', thumb:'https://khushnudmehndiartist.github.io/images/img2-thumb.jpg', src:'https://khushnudmehndiartist.github.io/images/img2.jpg', caption:'Arabic wrist design' },
      { id:3, type:'video', thumb:'https://khushnudmehndiartist.github.io/images/video1-thumb.jpg', src:'https://khushnudmehndiartist.github.io/videos/clip1.mp4', caption:'Mehndi time-lapse' },
      { id:4, type:'image', thumb:'https://khushnudmehndiartist.github.io/images/img3-thumb.jpg', src:'https://khushnudmehndiartist.github.io/images/img3.jpg', caption:'Hand portrait' },
      { id:5, type:'video', thumb:'https://khushnudmehndiartist.github.io/images/video2-thumb.jpg', src:'https://khushnudmehndiartist.github.io/videos/clip2.mp4', caption:'Application process' }
    ];

    const gridReliable = document.getElementById('gridReliable');
    const lightbox = document.getElementById('lightbox');
    const viewerMedia = document.getElementById('viewerMedia');
    let currentFiltered = [];
    let currentIndex = 0;

    function buildReliable(filter='all'){
      gridReliable.innerHTML='';
      currentFiltered = GALLERY_ITEMS.filter(it=>filter==='all'?true:it.type===filter);
      if(currentFiltered.length===0){ gridReliable.innerHTML='<p style="text-align:center;color:var(--muted)">No items in this filter</p>'; return; }
      currentFiltered.forEach((it,i)=>{
        const card = document.createElement('article'); card.className='card';
        card.innerHTML = `
          <button class="open-btn" data-index="${i}" style="background:transparent;border:0;padding:0;width:100%;text-align:left;cursor:pointer">
            <img src="${it.thumb}" loading="lazy" alt="${it.caption}" class="thumb" onerror="this.onerror=null;this.src='https://via.placeholder.com/800x600?text=Image+Not+Found'"/>
          </button>
          <div class="meta"><div style=\"font-size:13px;font-weight:600\">${it.caption}</div><div class=\"badge\">${it.type.toUpperCase()}</div></div>
        `;
        gridReliable.appendChild(card);
      });
      gridReliable.querySelectorAll('.open-btn').forEach(btn=>btn.addEventListener('click', ()=>{ openLightbox(Number(btn.dataset.index)); }));
    }

    // initial reliable
    buildReliable('all');
    document.querySelectorAll('.filter').forEach(b=>b.addEventListener('click', ()=>{ document.querySelectorAll('.filter').forEach(x=>x.classList.remove('active')); b.classList.add('active'); buildReliable(b.dataset.filter); }));

    function openLightbox(idx){ currentIndex=idx; showItem(currentFiltered[currentIndex]); lightbox.classList.add('open'); }
    function closeLightbox(){ lightbox.classList.remove('open'); viewerMedia.innerHTML=''; }
    function showItem(it){ viewerMedia.innerHTML=''; if(!it) return; if(it.type==='image'){ const img=document.createElement('img'); img.src=it.src; img.alt=it.caption; img.onerror=function(){ this.src='https://via.placeholder.com/1200x800?text=Image+Not+Found' }; viewerMedia.appendChild(img); } else { const v=document.createElement('video'); v.src=it.src; v.controls=true; v.autoplay=true; v.playsInline=true; v.onerror=function(){ viewerMedia.innerHTML='<p style="color:white">Video not available.</p>' }; viewerMedia.appendChild(v); } }

    document.getElementById('closeBtn').addEventListener('click', closeLightbox);
    document.getElementById('prevBtn').addEventListener('click', ()=>{ currentIndex=(currentIndex-1+currentFiltered.length)%currentFiltered.length; showItem(currentFiltered[currentIndex]); });
    document.getElementById('nextBtn').addEventListener('click', ()=>{ currentIndex=(currentIndex+1)%currentFiltered.length; showItem(currentFiltered[currentIndex]); });

    window.addEventListener('keydown',(e)=>{ if(!lightbox.classList.contains('open')) return; if(e.key==='Escape') closeLightbox(); if(e.key==='ArrowLeft') document.getElementById('prevBtn').click(); if(e.key==='ArrowRight') document.getElementById('nextBtn').click(); });
    lightbox.addEventListener('click',(e)=>{ if(e.target===lightbox) closeLightbox(); });

    // ----- Original Instagram embed loader -----
    function loadInstagramEmbeds(){
      // load embed script if not already loaded
      if(window.instgrm && window.instgrm.Embeds && typeof window.instgrm.Embeds.process==='function'){
        window.instgrm.Embeds.process();
      } else {
        const s = document.createElement('script'); s.src='https://www.instagram.com/embed.js'; s.async=true; s.onload = ()=> window.instgrm?.Embeds?.process?.(); document.body.appendChild(s);
      }
    }

    // auto-load embed script only if user opens Original tab
    // ensure nav anchor smooth offset
    document.querySelectorAll('.nav-link').forEach(a=>a.addEventListener('click', function(e){ const href=this.getAttribute('href'); if(!href||href==='#') return; const el=document.querySelector(href); if(el){ e.preventDefault(); const top = el.getBoundingClientRect().top + window.pageYOffset - (document.querySelector('header').offsetHeight + 8); window.scrollTo({top,behavior:'smooth'}); history.pushState(null,'',href); } }));

    // If user opens original tab immediately (optional):
    // loadInstagramEmbeds();

    // small accessibility: announce when switching tabs
    tabReliable.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' ') tabReliable.click(); });
    tabOriginal.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' ') tabOriginal.click(); });

  </script>
</body>
</html>
